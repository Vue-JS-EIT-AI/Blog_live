(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{140:function(t,e,n){"use strict";var o=n(1),r={name:"PostList",components:{Postprev:n(203).default},props:{isAdmin:{type:Boolean,default:!1},posts:{type:Array,required:!0}}},c=(n(324),n(10)),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"posts-list"},t._l(t.posts,(function(e){return n("Postprev",{key:e.id,attrs:{title:e.title,PreviewText:e.PreviewText,id:e.id,thumbnail:e.thumbnail,"is-admin":t.isAdmin}})})),1)}),[],!1,null,"f04b957c",null).exports,d=n(142);o.a.component("PostList",l),o.a.component("AppButton",d.default)},142:function(t,e,n){"use strict";n.r(e);var o={name:"AppButton",props:{btnStyle:{type:String,default:""}}},r=(n(326),n(10)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",t._g(t._b({staticClass:"button",class:t.btnStyle},"button",t.$attrs,!1),t.$listeners),[t._t("default")],2)}),[],!1,null,"5e3a1e16",null);e.default=component.exports},183:function(t,e,n){var content=n(283);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("2edcb286",content,!0,{sourceMap:!1})},185:function(t,e,n){var content=n(289);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("938f3782",content,!0,{sourceMap:!1})},186:function(t,e,n){var content=n(291);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("7eaec706",content,!0,{sourceMap:!1})},187:function(t,e,n){var content=n(293);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("16acfff6",content,!0,{sourceMap:!1})},188:function(t,e,n){var content=n(295);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("04273c56",content,!0,{sourceMap:!1})},189:function(t,e,n){var content=n(297);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("56b15182",content,!0,{sourceMap:!1})},200:function(t,e,n){var content=n(323);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("71df0ac2",content,!0,{sourceMap:!1})},201:function(t,e,n){var content=n(325);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("b27dbbc2",content,!0,{sourceMap:!1})},202:function(t,e,n){var content=n(327);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("2385f9ca",content,!0,{sourceMap:!1})},203:function(t,e,n){"use strict";n.r(e);var o={name:"Postprev",props:{id:{type:String,required:!0},isAdmin:{type:Boolean,required:!0},title:{type:String,required:!0},PreviewText:{type:String,required:!0},thumbnail:{type:String,required:!0}},computed:{postLink:function(){return this.isAdmin?"/admin/"+this.id:"/posts/"+this.id}}},r=(n(322),n(10)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Nuxt-link",{staticClass:"post-preview",attrs:{to:t.postLink}},[n("article",[n("div",{staticClass:"post-thumbnail",style:{backgroundImage:"url("+t.thumbnail+")"}}),t._v(" "),n("div",{staticClass:"post-content"},[n("h1",[t._v(t._s(t.title))]),t._v(" "),n("p",[t._v(t._s(t.PreviewText))])])])])}),[],!1,null,"ad8ff888",null);e.default=component.exports},212:function(t,e,n){"use strict";var o={middleware:["check-auth","auth"]},r=(n(288),n(10)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container"},[n("div",{staticClass:"tab0"},[n("nuxt-link",{attrs:{to:"/"}},[t._v(" Home")])],1),t._v(" "),n("div",{staticClass:"tab1"})]),t._v(" "),n("Nuxt")],1)}),[],!1,null,null,null);e.a=component.exports},213:function(t,e,n){"use strict";var o=n(214),r=n(216),c={middleware:"log",components:{TheHeader:o.default,TheSidenav:r.default},data:function(){return{displaySidenav:!1}}},l=(n(296),n(10)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("TheHeader",{on:{sidenavToggle:function(e){t.displaySidenav=!t.displaySidenav}}}),t._v(" "),n("TheSidenav",{attrs:{show:t.displaySidenav},on:{close:function(e){t.displaySidenav=!1}}}),t._v(" "),n("Nuxt")],1)}),[],!1,null,null,null);e.a=component.exports},214:function(t,e,n){"use strict";n.r(e);var o={name:"TheHeader",components:{TheSideNavToggle:n(215).default}},r=(n(292),n(10)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-container"},[n("header",{staticClass:"the-header"},[n("TheSideNavToggle",{on:{toggle:function(e){return t.$emit("sidenavToggle")}}}),t._v(" "),n("div",{staticClass:"logo"},[n("nuxt-link",{attrs:{to:"/"}},[t._v("BPP Shops")])],1),t._v(" "),n("div",{staticClass:"spacer"}),t._v(" "),n("div",{staticClass:"navigation-items"},[n("ul",{staticClass:"nav-list"},[n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/posts"}},[t._v("Server R post")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/postsStat"}},[t._v("Client R post")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/lesson"}},[t._v("Lesson")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/about"}},[t._v("About")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/admin"}},[t._v("Admin")])],1)])])],1)])}),[],!1,null,"b34f3d86",null);e.default=component.exports},215:function(t,e,n){"use strict";n.r(e);var o={},r=(n(290),n(10)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"drawer-toggle",attrs:{role:"button"},on:{click:function(e){return t.$emit("toggle")}}},[n("div",{staticClass:"bar"}),t._v(" "),n("div",{staticClass:"bar"}),t._v(" "),n("div",{staticClass:"bar"})])}),[],!1,null,"96a14cc8",null);e.default=component.exports},216:function(t,e,n){"use strict";n.r(e);var o={name:"TheSidenav",props:{show:{type:Boolean,default:!1}}},r=(n(294),n(10)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidenav-container"},[t.show?n("div",{staticClass:"sidenav-backdrop",on:{click:function(e){return t.$emit("close")}}}):t._e(),t._v(" "),n("transition",{attrs:{name:"slide-side"}},[t.show?n("div",{staticClass:"sidenav"},[n("ul",{staticClass:"nav-list",on:{click:function(e){return t.$emit("close")}}},[n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/posts"}},[t._v("Blog")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/about"}},[t._v("About")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/admin"}},[t._v("Admin")])],1)])]):t._e()])],1)}),[],!1,null,"a5ac8858",null);e.default=component.exports},217:function(t,e,n){n(218),t.exports=n(219)},259:function(t,e,n){"use strict";n.r(e),e.default=function(t){t.store.getters.isAuthenticated||(console.log(t),t.redirect("/admin/auth"))}},260:function(t,e,n){"use strict";n.r(e),e.default=function(t){}},261:function(t,e,n){"use strict";n.r(e),e.default=function(t){console.log("middleware is active!")}},282:function(t,e,n){"use strict";n(183)},283:function(t,e,n){var o=n(28)(!1);o.push([t.i,".error-page[data-v-629329f6]{text-align:center}.error-page a[data-v-629329f6]{text-decoration:none;color:red}.error-page a[data-v-629329f6]:active,.error-page a[data-v-629329f6]:hover{color:salmon}",""]),t.exports=o},286:function(t,e,n){var content=n(287);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("f52d43e0",content,!0,{sourceMap:!1})},287:function(t,e,n){var o=n(28)(!1);o.push([t.i,".csstest{background-color:#00f;color:#fff}.active{background-color:brown}.fade-enter-active,.fade-leave-active{transition:opacity .5s}.fade-enter,.fade-leave-to{opacity:0}",""]),t.exports=o},288:function(t,e,n){"use strict";n(185)},289:function(t,e,n){var o=n(28)(!1);o.push([t.i,'html{font-family:"Open Sans",sans-serif}body{margin:0;padding:0}.container{height:60px;background-color:#44494d;position:fixed;width:100%;display:flex;justify-content:space-around;align-items:center}.container a{text-decoration:none;color:#fff}.tab0{padding-left:5px}.tab1{flex:1}.tabs{margin-right:10px}',""]),t.exports=o},290:function(t,e,n){"use strict";n(186)},291:function(t,e,n){var o=n(28)(!1);o.push([t.i,".drawer-toggle[data-v-96a14cc8]{display:flex;flex-direction:column;justify-content:space-around;height:50%;width:35px;cursor:pointer}@media (min-width:768px){.drawer-toggle[data-v-96a14cc8]{display:none}}.drawer-toggle .bar[data-v-96a14cc8]{width:90%;height:3.5px;border-radius:25%;background-color:#777}",""]),t.exports=o},292:function(t,e,n){"use strict";n(187)},293:function(t,e,n){var o=n(28)(!1);o.push([t.i,".header-container[data-v-b34f3d86]{height:60px}.the-header[data-v-b34f3d86]{width:100%;position:fixed;height:60px;display:flex;justify-content:space-around;align-items:center;background-color:#ef8341;z-index:100;box-sizing:border-box;padding:0 20px}.logo[data-v-b34f3d86]{margin:0 10px;font-size:1.3rem}.logo a[data-v-b34f3d86]{text-decoration:none;color:#fff}.spacer[data-v-b34f3d86]{flex:1}.navigation-items[data-v-b34f3d86]{display:none}@media (min-width:768px){.navigation-items[data-v-b34f3d86]{display:block}}.nav-list[data-v-b34f3d86]{list-style:none;padding:0;margin:0;display:flex}.nav-item[data-v-b34f3d86]{margin:0 10px}.nav-item a[data-v-b34f3d86]{text-decoration:none;color:#fff}.nav-item a.nuxt-link-active[data-v-b34f3d86],.nav-item a[data-v-b34f3d86]:active,.nav-item a[data-v-b34f3d86]:hover{color:#000}",""]),t.exports=o},294:function(t,e,n){"use strict";n(188)},295:function(t,e,n){var o=n(28)(!1);o.push([t.i,".sidenav-container[data-v-a5ac8858]{height:100%;width:100%}.sidenav-backdrop[data-v-a5ac8858]{width:100%;background-color:rgba(0,0,0,.7);z-index:1000}.sidenav[data-v-a5ac8858],.sidenav-backdrop[data-v-a5ac8858]{height:100%;position:fixed;top:0;left:0}.sidenav[data-v-a5ac8858]{width:300px;background-color:#fff;z-index:10000;box-sizing:border-box;padding:30px}.slide-side-enter-active[data-v-a5ac8858],.slide-side-leave-active[data-v-a5ac8858]{transition:all .3s ease-out}.slide-side-enter[data-v-a5ac8858],.slide-side-leave-to[data-v-a5ac8858]{transform:translateX(-100%)}.nav-list[data-v-a5ac8858]{list-style:none;padding:0;margin:0}.nav-item[data-v-a5ac8858]{margin:20px 0}.nav-item a[data-v-a5ac8858]{text-decoration:none;color:#000;font-size:1.5rem}.nav-item a[data-v-a5ac8858]:active,.nav-item a[data-v-a5ac8858]:hover{color:red}",""]),t.exports=o},296:function(t,e,n){"use strict";n(189)},297:function(t,e,n){var o=n(28)(!1);o.push([t.i,'html{font-family:"Open Sans",sans-serif}body{margin:0}',""]),t.exports=o},298:function(t,e,n){"use strict";n.r(e);n(40),n(32),n(39),n(57),n(37),n(58);var o=n(25),r=(n(299),n(30),n(71),n(190),n(13),n(31),n(182),n(133),n(300),n(56)),c=n(36),l=n.n(c),d=n(138),f=n.n(d);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.default=function(){return new r.a.Store({state:{loadedPosts:[],token:null},mutations:{setPosts:function(t,e){t.loadedPosts=e},addpost:function(t,e){t.loadedPosts.push(e)},editpost:function(t,e){var n=t.loadedPosts.findIndex((function(t){return t.id===e.id}));t.loadedPosts[n]=e},setToken:function(t,e){t.token=e},clearToken:function(t){t.token=null}},actions:{nuxtServerInit:function(t,e){return console.log("servers side rendering"),l.a.get("https://nuxt-blogs-c16de-default-rtdb.firebaseio.com/posts.json").then((function(e){var n=[];for(var o in e.data)n.push(m(m({},e.data[o]),{},{id:o}));t.commit("setPosts",n)})).catch((function(t){return e.error(t)}))},addpost:function(t,e){var n=m(m({},e),{},{updatedDate:new Date});return l.a.post("https://nuxt-blogs-c16de-default-rtdb.firebaseio.com/posts.json?auth="+t.state.token,n).then((function(e){t.commit("addpost",m(m({},n),{},{id:e.data.name}))})).catch((function(t){return console.log(t)}))},editpost:function(t,e){return l.a.put("https://nuxt-blogs-c16de-default-rtdb.firebaseio.com/posts/"+e.id+".json?auth="+t.state.token,e).then((function(n){t.commit("editpost",e)})).catch((function(t){return console.log(t)}))},setPosts:function(t,e){t.commit("setPosts",e)},authenticateUser:function(t,e){var n="";return e.isLogin?(n="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBHiMWsL51_E5VNbxK-v1L6M2Cc0J5WUyA",console.log("login is loading")):n="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBHiMWsL51_E5VNbxK-v1L6M2Cc0J5WUyA",l.a.post(n,{email:e.email,password:e.password,returnSecureToken:!0}).then((function(e){t.commit("setToken",e.data.idToken),localStorage.setItem("token",e.data.idToken),t.dispatch("setLogoutTimer",1e3*e.data.expiresIn),localStorage.setItem("tokenExpiration",(new Date).getTime()+1e3*e.data.expiresIn);var n=(new Date).getTime();console.log(n),f.a.set("jwt",e.data.idToken),f.a.set("expirationDate",(new Date).getTime()+1e3*e.data.expiresIn),console.log(e)})).catch((function(t){return console.log(t)}))},setLogoutTimer:function(t,e){setTimeout((function(){t.commit("clearToken")}),e)},initauth:function(t,e){var n,o;if(e){if(!e.headers.cookie)return;var r=e.headers.cookie.split(";").find((function(t){return t.trim().startsWith("jwt=")}));if(!r)return;n=r.split("=")[1],o=e.headers.cookie.split(";").find((function(t){return t.trim().startsWith("expirationDate=")})).split("=")[1]}else{var c=localStorage.getItem("token"),l=localStorage.getItem("tokenExpiration");if((new Date).getTime()>+l||!c)return}t.dispatch("setLogoutTimer",+o-(new Date).getTime()),t.commit("setToken",n)}},getters:{loadedPosts:function(t){return t.loadedPosts},isAuthenticated:function(t){return null!=t.token}}})}},322:function(t,e,n){"use strict";n(200)},323:function(t,e,n){var o=n(28)(!1);o.push([t.i,".post-preview[data-v-ad8ff888]{border:1px solid #ccc;box-shadow:0 2px 2px #ccc;background-color:#fff;width:90%}a[data-v-ad8ff888]{text-decoration:none;color:#000}@media (min-width:850px){.post-preview[data-v-ad8ff888]{width:400px;margin:10px}}.post-thumbnail[data-v-ad8ff888]{width:100%;height:200px;background-position:50%;background-size:cover}.post-content[data-v-ad8ff888]{padding:10px;text-align:center}a:active .post-content[data-v-ad8ff888],a:hover .post-content[data-v-ad8ff888]{background-color:#ccc}",""]),t.exports=o},324:function(t,e,n){"use strict";n(201)},325:function(t,e,n){var o=n(28)(!1);o.push([t.i,".posts-list[data-v-f04b957c]{display:flex;padding:20px;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center}",""]),t.exports=o},326:function(t,e,n){"use strict";n(202)},327:function(t,e,n){var o=n(28)(!1);o.push([t.i,".button[data-v-5e3a1e16]{font:inherit;background-color:#000;color:#fff;padding:5px;cursor:pointer;border:1px solid #000}.button[data-v-5e3a1e16]:active,.button[data-v-5e3a1e16]:hover{background-color:#333;border:1px solid #000}.inverted[data-v-5e3a1e16]{color:#000}.inverted[data-v-5e3a1e16],.inverted[data-v-5e3a1e16]:active,.inverted[data-v-5e3a1e16]:hover{background-color:#fff;border:1px solid transparent}.inverted[data-v-5e3a1e16]:active,.inverted[data-v-5e3a1e16]:hover{color:#ccc}.cancel[data-v-5e3a1e16]{background-color:red}.cancel[data-v-5e3a1e16],.cancel[data-v-5e3a1e16]:active,.cancel[data-v-5e3a1e16]:hover{color:#fff;border:1px solid transparent}.cancel[data-v-5e3a1e16]:active,.cancel[data-v-5e3a1e16]:hover{background-color:salmon}",""]),t.exports=o},45:function(t,e,n){"use strict";n(282);var o=n(10),component=Object(o.a)({},(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error-page"},[n("h1",[t._v("Oops, something went wrong!")]),t._v(" "),n("p",[t._v("Back to "),n("a",{attrs:{href:"/"}},[t._v("safety")]),t._v("!")])])}],!1,null,"629329f6",null);e.a=component.exports}},[[217,21,2,22]]]);